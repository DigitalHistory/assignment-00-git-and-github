<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Students</title>
    <!-- external resources -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script> -->
    <!-- steal some base styles from chota: https://jenil.github.io/chota/ -->
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <!-- customize in this file -->
    <link rel="stylesheet" href="style.css">
    <style>
     
    </style>
    <script type-"text/javascript" src="utils/allstudents.js"></script>

</head>

<body>

    <nav class="bg-primary">     
        <div class="nav-center">
            <h1><a class="brand" href="#">His393 Class Roster, 2017</a></h1>
        </div>
    </nav>

    <main id="cardcontainer">

    </main>


    <div id="studentlist">
      <table>
          <tbody></tbody>
      </table>
  </div>  



  <script type="text/javascript">
   let students = [];

   $(function() {
       $.each(studentsArray, function(i, s) {
           var tblRow = `<tr> 
        <td>${(s.firstName) ? s.firstName : ''}</td>
        <td>${(s.lastName) ? s.lastName : ''}</td>
        <td>${s.nickName}</td>
        <td><a href="mailto:${s.email}">${s.email}</a></td>
        <td><a href="https://github.com/${s.github}">${s.github}</a></td>
           </tr>`;
           //$(tblRow).appendTo("main#cardcontainer");
           students.push(s);
           let nickString = ( s.nickName ) ? `"${s.nickName}"` : '',
               spString = (s.superpower ) ? s.superpower : '',
               aiString = (s.academicinterests ) ? s.academicinterests : '',
               imageUrl = (s.picture) ? s.picture :  "http://lorempixel.com/400/400/nature/",
               imageAlt = (s.picture) ? "Image of " + (s.nickName ||  s.firstName || "student") : "Oops! no picture found." ;
           console.log("nick is " + nickString);
           let card = `
  <section class="card"  > 
  <header class="card-header">
    ${(s.nickName) ? s.nickName : s.firstName}
  </header>
  <img class="profile-image"  src="${imageUrl}" alt="${imageAlt}" title="${imageAlt}">
<section class="card-body">
    <h4 class="card-title">${(s.firstName) ? s.firstName : nickString} ${(s.lastName) ? s.lastName : ''}</h4>
    <p class="card-text"><b>Powers:</b> ${s.superpower}</p>
    <p class="card-text"><b>Academic Interests:</b> ${s.academicinterests}</p>
</section> <!-- card-body -->
<footer class="card-footer text-center">
    <a href="https://github.com/${s.github}" class="button">Github</a>
    <a href="mailto:${s.email}" class="button">Email</a>
</footer>  <!-- card-footer -->
</section>  <!-- card -->
                    </div>
`;

           $(card).appendTo("#cardcontainer");
           console.log(s);
       });
   });

  </script>
</body>

</html>



